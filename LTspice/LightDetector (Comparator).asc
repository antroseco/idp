Version 4
SHEET 1 964 680
WIRE 224 48 32 48
WIRE 528 48 432 48
WIRE 752 48 528 48
WIRE 800 48 752 48
WIRE 32 80 32 48
WIRE 224 80 224 48
WIRE 800 96 800 48
WIRE 752 144 752 48
WIRE 752 144 736 144
WIRE 224 176 224 160
WIRE 592 176 224 176
WIRE 752 176 736 176
WIRE 224 208 224 176
WIRE 528 208 528 128
WIRE 592 208 528 208
WIRE 800 208 800 176
WIRE 800 208 736 208
WIRE 832 208 800 208
WIRE 224 240 224 208
WIRE 528 240 528 208
WIRE 800 256 800 208
WIRE 800 368 800 336
WIRE 800 464 800 432
FLAG 32 160 0
FLAG 224 320 0
FLAG 224 208 phototransistor
IOPIN 224 208 In
FLAG 528 320 0
FLAG 752 176 0
FLAG 832 208 out
IOPIN 832 208 Out
FLAG 432 128 0
FLAG 800 464 0
FLAG 528 208 ref
IOPIN 528 208 In
SYMBOL voltage 32 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL current 224 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(20u 200u 0 4 1 0 5)
SYMBOL res 208 224 R0
SYMATTR InstName Rload
SYMATTR Value 24k
SYMBOL AutoGenerated\\LM339 656 192 R0
SYMATTR InstName U1
SYMBOL res 512 32 R0
SYMATTR InstName Rp1
SYMATTR Value 500k
SYMBOL res 512 224 R0
SYMATTR InstName Rp2
SYMATTR Value 80k
SYMBOL voltage 432 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 784 80 R0
SYMATTR InstName Rpullup
SYMATTR Value 10k
SYMBOL res 784 240 R0
SYMATTR InstName Rgpio
SYMATTR Value 1Meg
SYMBOL cap 784 368 R0
SYMATTR InstName Cgpio
SYMATTR Value 14p
TEXT 0 344 Left 2 !.tran 0 10 0 0.01
